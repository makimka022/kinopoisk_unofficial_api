# Код для получения информации о фильмах и создания связей в графовой базе данных Neo4j

Этот код использует API сервиса КиноПоиск для получения информации о фильмах и создания связей в графовой базе данных Neo4j.

## Требования
Для работы кода вам понадобятся следующие компоненты:

- Установленный Python 3.x
- Библиотека requests (установите ее с помощью pip install requests)
- Библиотека neo4j (установите ее с помощью pip install neo4j)

## Получение информации о фильмах
Функция get_movies_from_api отправляет GET-запрос на API КиноПоиска для получения списка фильмов с указанными фильтрами. Код указывает на то, что мы хотим получить фильмы с рейтингом от 0 до 10 и с годом выпуска от 2023 до 3000. 

## Создание узлов фильмов в Neo4j
Функция create_movie_node создает узлы фильма в графовой базе данных Neo4j. Каждый фильм имеет свойство Id, которое является уникальным идентификатором фильма в сервисе КиноПоиск. Для каждого фильма устанавливаются свойства: название (на русском или английском языке), рейтинг, год выпуска, тип (фильм, сериал и т. д.), страны производства и жанры.

## Получение информации о персонах
Функция get_persons_from_api отправляет GET-запрос на API КиноПоиска для получения информации о персонах, связанных с конкретным фильмом. Код указывает на то, что мы хотим получить информацию о персонах, связанных с фильмом с указанным kinopoisk_id.

## Создание узлов персон в Neo4j и создание связей
Функция create_person_nodes создает узлы персон в графовой базе данных Neo4j и создает связи между персонами и фильмом. Персоны могут иметь различные профессии, такие как режиссер, актер, продюсер и сценарист. В зависимости от профессии, создаются соответствующие связи между персоной и фильмом.

## Интеграция всего кода
Функция get_movies_from_api получает список фильмов с помощью API КиноПоиска, затем для каждого фильма вызывается функция create_movie_node, которая создает узел фильма в Neo4j. Затем для каждого фильма вызывается функция get_persons_from_api, которая получает информацию о связанных персонах. После этого вызывается функция create_person_nodes, которая создает узлы персон и связи в Neo4j.

## Запуск кода
Чтобы запустить этот код, убедитесь, что у вас установлены все необходимые компоненты и замените данные аутентификации в переменных uri, user и password на свои значения. Затем запустите код с помощью Python.

python my_script.py
Примечание: перед запуском убедитесь, что Neo4j сервер запущен и доступен по указанному URI.
